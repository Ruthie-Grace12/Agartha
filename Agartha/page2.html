<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Agartha - Acres</title>

  <style>
  @font-face {
    font-family: 'Perfect DOS VGA 437';
    src: url('fonts/PerfectDOSVGA437.ttf') format('truetype');
    font-display: swap;
  }

  body {
    margin: 0;
    padding: 0;
    background-image: url("images/elephant.gif");
    background-size: cover;
    background-position: center 30%;
    background-repeat: no-repeat;
    background-color: #55ffff;
    background-attachment: fixed;
    height: auto;
    font-family: 'Perfect DOS VGA 437', monospace;
    color: #fff;
    overflow-x: hidden;
    overflow-y: auto;
    cursor: url("images/pickaxe.png") 10 10, auto;
  }
 
/* FORCE PICKAXE CURSOR EVERYWHERE */
* {
    cursor: url("images/pickaxe.png") 10 10, auto !important;
}

/* REMOVE PICKAXE INSIDE MINIGAMES */
#game-window,
#game-window * {
    cursor: auto !important;
}


  /* LEFT-SIDE SCROLLING 2×3 GRID */
  #game-grid-wrapper {
      height: auto; 
      max-height: none;
      width: 25%;
      height: 500px;
      overflow-y: scroll;
      direction: rtl;
      padding-left: 10px;
      padding-right: 30px;
      margin-bottom: 300px;
      margin-top: 60px;
  }

  #game-grid {
      display: grid;
      grid-template-columns: repeat(2, 180px);
      justify-content: flex-start;
      grid-auto-rows: 180px;
      gap: 12px;
      direction: ltr;
  }

  .grid-tile {
      width: 150px;
      height: 150px;
      background: rgba(0,0,40,0.5);
      border: 2px solid #aaa;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      box-shadow: inset -2px -2px 0 #000, inset 2px 2px 0 #555;
      transition: transform 0.25s;
  }

  .grid-tile img {
      width: 180px;
      height: 180px;
      object-fit: cover;
      image-rendering: pixelated;
  }

  .tile-label {
    position: absolute;
    bottom: 4px;
    left: 6px;
    font-size: 16px;
    color: #ffff55;
    text-shadow: 0 0 6px #000;
  }

  #hover-zone {
    position: fixed;
    top: 0;
    left: 0;
    width: 100px;
    height: 100px;
    z-index: 10000;
  }

  #back-button {
    position: fixed;
    top: 15px;
    left: 15px;
    padding: 2px 10px;
    font-size: 16px;
    background-color: rgba(0, 0, 136, 0.4);
    color: rgba(221, 221, 221, 0.7);
    border: 1px solid rgba(170, 170, 170, 0.4);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 10001;
  }

  /* TEMPLEOS TITLE */
#title {
    text-align: center;
    font-size: 4em;
    margin: 50px 0 20px 0;
    color: #FFFF55;
    letter-spacing: 2px;
    text-shadow:
      0 0 5px #FFFF55,
      0 0 10px #FFFF55,
      0 0 20px #FFFF55,
      0 0 40px #FFFFAA;
    animation: titleGlow 1.6s steps(2) infinite, titleBob 2.2s ease-in-out infinite;
    image-rendering: pixelated;
    position: relative;
}

#title::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,0.03) 0px,
        rgba(255,255,255,0.03) 2px,
        transparent 2px,
        transparent 4px
    );
    animation: scanlines 6s linear infinite;
}

@keyframes scanlines {
    0% { background-position: 0 0; }
    100% { background-position: 0 100%; }
}


/* subtle flicker like TempleOS blinking ASCII */
@keyframes titleGlow {
    0% { opacity: 0.95; }
    50% { opacity: 1; }
    51% { opacity: 0.88; }
    52% { opacity: 1; }
    100% { opacity: 0.97; }
}

/* float up and down slowly like TempleOS menu bars */
@keyframes titleBob {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-4px); }
    100% { transform: translateY(0px); }
}


  .home-buttons {
    display: flex;
    justify-content: center;
    gap: 50px;
    margin-top: 30px;
    margin-bottom: 40px;
  }

  .templeos-btn {
    background-color: #0000AA;
    border: 2px solid #FFFFFF;
    width: 220px;
    height: 60px;
    font-size: 18px;
    font-weight: bold;
    color: #FFFF55;
    box-shadow: inset -2px -2px 0 #000, inset 2px 2px 0 #AAAAAA;
  }

  .templeos-btn:hover {
    background-color: #0000FF;
    color: #FFFFAA;
    box-shadow: 0 0 6px #FFFF55, 0 0 12px #FFFF55;
  }

  #game-window {
    position: fixed;
    width: 500px;
    height: 400px;
    background: #000022;
    border: 3px solid #ffffff;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    display: none;
    z-index: 99999;
  }

  #game-titlebar {
    background: #0000aa;
    padding: 4px;
    color: #ffff55;
    font-size: 16px;
    border-bottom: 2px solid #ffffff;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  </style>
</head>

<body>

<div id="hover-zone"></div>
<button id="back-button" onclick="window.location.href='home.html'">&lt;---</button>

<div id="title" class="flash-title">Hello World</div>

<div class="home-buttons">
  <button class="templeos-btn" onclick="playClickSound(); window.location.href='page1.html'">Mouse</button>
  <button class="templeos-btn" onclick="playClickSound(); window.location.href='page3.html'">Tophet</button>
</div>

<!-- ⭐ 5×5 GRID -->
<div id="game-grid-wrapper">
  <div id="game-grid">

    <div class="grid-tile" onclick="openCowSkinner(); playClickSound();">
      <img src="images/page2png1.png">
      <div class="tile-label">Cow Skinner</div>
    </div>

    <div class="grid-tile"><img src="images/page2png2.png"></div>
    <div class="grid-tile"><img src="images/page2png3.png"></div>
    <div class="grid-tile"><img src="images/page2png4.png"></div>
    <div class="grid-tile"><img src="images/page2png5.png"></div>
    <div class="grid-tile"><img src="images/page2png6.png"></div>
    <div class="grid-tile"><img src="images/page2png7.png"></div>
    <div class="grid-tile"><img src="images/page2png8.png"></div>
    <div class="grid-tile"><img src="images/page2png9.png"></div>
    <div class="grid-tile"><img src="images/page2png10.png"></div>
    <div class="grid-tile"><img src="images/page2png11.png"></div>
    <div class="grid-tile"><img src="images/page2png12.png"></div>
    <div class="grid-tile"><img src="images/page2png13.png"></div>
    <div class="grid-tile"><img src="images/page2png14.png"></div>
    <div class="grid-tile"><img src="images/page2png15.png"></div>
    <div class="grid-tile"><img src="images/page2png16.png"></div>
    <div class="grid-tile"><img src="images/page2png17.png"></div>
    <div class="grid-tile"><img src="images/page2png18.png"></div>
    <div class="grid-tile"><img src="images/page2png19.png"></div>
    <div class="grid-tile"><img src="images/page2png20.png"></div>
    <div class="grid-tile"><img src="images/page2png21.png"></div>
    <div class="grid-tile"><img src="images/page2png22.png"></div>
    <div class="grid-tile"><img src="images/page2png23.png"></div>
    <div class="grid-tile"><img src="images/page2png24.png"></div>
    <div class="grid-tile"><img src="images/page2png25.png"></div>

  </div>
</div>

<!-- ⭐ COW SKINNER MINI-GAME -->
<div id="game-window">
  <div id="game-titlebar">
    <span>Cow Skinner</span>
    <span id="close-game" style="cursor:pointer;">X</span>
  </div>

  <div id="game-area">
    <div id="big-hp" style="position:absolute; top:42px; right:42px; font-size:16px; color:#ff5555;"></div>

    <div id="big-stickman" style="position:absolute; left:60px; bottom:60px; white-space:pre;"></div>

    <div id="big-cow" style="position:absolute; right:60px; bottom:60px; cursor:pointer; white-space:pre;"></div>

    <div id="big-blood" style="position:absolute; right:100px; bottom:110px; color:red; white-space:pre; opacity:0; transition:opacity 0.15s;">@@@@
@@@@
@@@@</div>

    <div id="big-godsays" style="position:absolute; bottom:10px; left:15px; width: 460px; background:rgba(0,0,0,0.7); border:1px solid #ffff55; padding:4px; font-size:10px; line-height:12px; color:#ffffaa; white-space:normal;"></div>
  </div>
</div>

<audio id="mcclick" src="music/mcclick.mp3" preload="auto"></audio>
<audio id="song2" src="music/math.mp3" preload="auto"></audio>


<script>

function playClickSound() {
  const click = document.getElementById("mcclick");
  click.currentTime = 0;
  click.play().catch(()=>{});
}

function openCowSkinner() {
  document.getElementById("game-window").style.display = "block";

  if (!audioCtx) {
    try {
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      audioCtx.resume().catch(()=>{});
    } catch (e) { audioCtx = null; }
  }
}

const bibleVersesBig = [
  "“In the beginning God created the heaven and the earth.” — Genesis 1:1",
  "“The LORD is my shepherd; I shall not want.” — Psalm 23:1",
  "“I can do all things through Christ which strengtheneth me.” — Philippians 4:13",
  "“For God so loved the world…” — John 3:16",
  "“Trust in the LORD with all thine heart.” — Proverbs 3:5",
  "“Be strong and of a good courage.” — Joshua 1:9"
];

let cowMaxHP = 5;
let cowHP = 5;
let isCowAlive = true;

let audioCtx = null;

const bigCow = document.getElementById("big-cow");
const bigStick = document.getElementById("big-stickman");
const bigBlood = document.getElementById("big-blood");
const bigGodsays = document.getElementById("big-godsays");
const bigHPText = document.getElementById("big-hp");

const stickIdle = `    O
   /|\\
  / | \\
    |
   / \\`;

const stickSwing = `    O
  --|\\
    |\\
    |
   / \\`;

const cowAlive = `      (____)
     ( o  o )
  ___(  __  )___
 /              \\
/_/   /\\/\\       \\_\\`;

const cowDead = `      (____)
  ___( x  x )___
 /   (____)    \\
/_/            \\_\\`;

function updateHP() {
  const bar = "[" + "*".repeat(cowHP) + " ".repeat(cowMaxHP - cowHP) + "]";
  bigHPText.textContent = "Cow HP: " + bar;
}

bigStick.textContent = stickIdle;
bigCow.textContent = cowAlive;
updateHP();

function playBeep(freq = 600, duration = 0.08) {
  if (!audioCtx) return;
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = "square";
  osc.frequency.value = freq;
  gain.gain.value = 0.15;
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.start();
  osc.stop(audioCtx.currentTime + duration);
}

function playDeathBeep() {
  playBeep(200, 0.12);
  setTimeout(() => playBeep(150, 0.15), 90);
}

bigCow.addEventListener("click", () => {
  if (!isCowAlive) return;
  if (audioCtx) audioCtx.resume();

  playBeep(700, 0.06);

  bigStick.textContent = stickSwing;
  setTimeout(() => bigStick.textContent = stickIdle, 120);

  cowHP = Math.max(0, cowHP - 1);
  updateHP();

  bigBlood.style.opacity = 1;
  setTimeout(() => bigBlood.style.opacity = 0, 150);

  bigGodsays.textContent =
    "GOD SAYS: " +
    bibleVersesBig[Math.floor(Math.random() * bibleVersesBig.length)];

  if (cowHP === 0) {
    isCowAlive = false;
    playDeathBeep();
    bigCow.textContent = cowDead;

    setTimeout(() => {
      cowHP = cowMaxHP;
      isCowAlive = true;
      bigCow.textContent = cowAlive;
      updateHP();
    }, 1200);
  }
});

document.getElementById("close-game").addEventListener("click", () => {
  document.getElementById("game-window").style.display = "none";
});
window.addEventListener("DOMContentLoaded", () => {
    const song = document.getElementById("song2");

    // Set volume
    song.volume = 1;

    // Attempt autoplay
    song.play().catch(() => {
        // If autoplay is blocked, wait for the first user click
        const enableSound = () => {
            song.play().catch(()=>{});
            document.removeEventListener("click", enableSound);
        };
        document.addEventListener("click", enableSound);
    });
});


</script>

<div style="height: 600px;"></div>

</body>
</html>
